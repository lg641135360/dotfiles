# ===== KITTY CONFIGURATION =====

# ===== FONT SETTINGS =====
font_family      FiraCode Nerd Font Mono
bold_font        FiraCode Nerd Font Mono Bold
italic_font      FiraCode Nerd Font Mono Italic
bold_italic_font FiraCode Nerd Font Mono Bold Italic
font_size        14.0
adjust_line_height  110%
adjust_column_width 100%

font_features    FiraCodeNerdFontMono-Regular +cv01 +cv02 +cv05 +cv09 +cv14 +cv16 +cv18 +cv25 +cv26 +cv32 +ss04 +ss05 +ss09

# ===== THEME & COLORS =====
include ~/.config/kitty/themes/Dracula.conf

# ===== TRANSPARENCY & BLUR =====
background_opacity          0.85
dynamic_background_opacity  yes
background_blur             25
background_tint             0.9

# ===== WINDOW SETTINGS =====
remember_window_size     yes
initial_window_width     1200
initial_window_height    800

window_padding_width     8
window_border_width      1pt
active_border_color      #bd93f9
inactive_border_color    #44475a
bell_border_color        #ff5555

enabled_layouts          splits,stack
window_resize_step_cells 2
window_resize_step_lines 2

hide_window_decorations  titlebar-only
confirm_os_window_close  0

# ===== TAB SETTINGS =====
tab_bar_edge             bottom
tab_bar_style            powerline
tab_powerline_style      slanted
tab_bar_align            left
tab_bar_min_tabs         2
tab_activity_symbol      ðŸ””
tab_title_template       "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{title}"

active_tab_foreground    #282a36
active_tab_background    #bd93f9
inactive_tab_foreground  #f8f8f2
inactive_tab_background  #44475a

# ===== PERFORMANCE =====
repaint_delay           3
input_delay             1
sync_to_monitor         yes
wayland_titlebar_color  system

# ===== AUDIO & VISUAL FEEDBACK =====
enable_audio_bell         no
visual_bell_duration      0
visual_bell_color         #bd93f9
window_alert_on_bell      no
bell_on_tab               no
command_on_bell           none

# ===== CURSOR ANIMATIONS =====
cursor_shape                  block
cursor_beam_thickness         1.5
cursor_underline_thickness    1.5
cursor_blink_interval         -1
cursor_stop_blinking_after    0

# ===== VISUAL EFFECTS =====
dynamic_background_opacity    yes
background_opacity_step       0.05

# ===== ANIMATION SETTINGS =====
# Visual feedback for commands
visual_window_select_characters 1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ
# ===== REMOTE CONTROL & CLIPBOARD =====
allow_remote_control      yes
listen_on                 unix:/tmp/kitty
clipboard_control         write-clipboard write-primary read-clipboard read-primary
clipboard_max_size        512

# ===== KEYBOARD SHORTCUTS =====
clear_all_shortcuts yes

# System level shortcuts
map ctrl+q              quit
map cmd+q               quit

# stop process
map ctrl+c send_text all \x03

# Window splitting (kitty internal)
map ctrl+shift+minus    launch --location=hsplit --cwd=current
map ctrl+shift+equal    launch --location=vsplit --cwd=current
map ctrl+w              close_window
map cmd+w               close_window

# Window navigation (kitty internal) - using Alt+hjkl to avoid conflicts
map alt+h               neighboring_window left
map alt+l               neighboring_window right
map alt+k               neighboring_window up
map alt+j               neighboring_window down

# Window resizing - using Alt+Shift+hjkl
map alt+shift+h         resize_window narrower
map alt+shift+l         resize_window wider
map alt+shift+k         resize_window taller
map alt+shift+j         resize_window shorter

# Tab management
map ctrl+t              new_tab_with_cwd
map cmd+t               new_tab_with_cwd
map ctrl+shift+t        close_tab
map ctrl+page_up        previous_tab
map ctrl+page_down      next_tab
map ctrl+1              goto_tab 1
map ctrl+2              goto_tab 2
map ctrl+3              goto_tab 3
map ctrl+4              goto_tab 4
map ctrl+5              goto_tab 5

# Font size
map ctrl+equal          change_font_size all +1.0
map ctrl+minus          change_font_size all -1.0
map ctrl+0              change_font_size all 0

# Copy/Paste
map ctrl+shift+c    copy_to_clipboard
map cmd+c           copy_to_clipboard
map ctrl+shift+v    paste_from_clipboard
map cmd+v           paste_from_clipboard

# Config and utility
map ctrl+comma          edit_config_file
map ctrl+r              load_config_file

# Search
map ctrl+f              launch --type=overlay --stdin-source=@screen_scrollback fzf --no-sort --no-mouse --exact -i
map cmd+f               launch --type=overlay --stdin-source=@screen_scrollback fzf --no-sort --no-mouse --exact -i

# Transparency control
map ctrl+bracketright   set_background_opacity +0.05
map ctrl+bracketleft    set_background_opacity -0.05
map ctrl+backslash      set_background_opacity default

# ===== SCROLLING =====
scrollback_lines              20000
scrollback_pager              less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size 100
scrollback_fill_enlarged_window yes
wheel_scroll_multiplier       3.0
wheel_scroll_min_lines        1
touch_scroll_multiplier       1.0

# ===== MOUSE =====
mouse_hide_wait               2.0
default_pointer_shape         beam
pointer_shape_when_grabbed    arrow
pointer_shape_when_dragging   beam

# URL handling
url_color                     #8be9fd
url_style                     curly
url_prefixes                  file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
detect_urls                   yes
open_url_with                 default

# Text selection
copy_on_select                yes
select_by_word_characters     @-./_~?&=%+#
click_interval               -1.0
mouse_map left click ungrabbed mouse_handle_click selection link prompt
mouse_map cmd+left click ungrabbed mouse_handle_click selection link prompt
mouse_map cmd+left press ungrabbed mouse_selection rectangle

# ===== ADVANCED SETTINGS =====
shell                         zsh
editor                        nvim
close_on_child_death          no
update_check_interval         0
allow_hyperlinks              yes
shell_integration             enabled
term                          xterm-kitty

# Platform specific settings
macos_option_as_alt                    yes
macos_quit_when_last_window_closed     yes
macos_show_window_title_in_menubar     no
macos_traditional_fullscreen           no
